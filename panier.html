<!doctype html>


<html lang="fr" prefix="og: https://ogp.me/ns#" data-filial="fr">

<meta http-equiv="content-type" content="text/html;charset=UTF-8" />

<head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="author" content="doctrine" />
    <meta name="generator" content="DFP" />
    <meta name="MSSmartTagsPreventParsing" content="TRUE" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="robots" content="index,follow">
    <meta property="og:type" content="Website" />
    <meta name="type" content="article" />


    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-C5NCQ61K97"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }
        gtag('js', new Date());

        gtag('config', 'G-C5NCQ61K97');
    </script>

    <title>Commande DERMOCARE | PANIER</title>

    <link rel="canonical" href="index.html" />
    <link rel="Index" title="Home" href="index.html" />
    <link rel="stylesheet" href="theme/theme.b9ba3def.css">
    <link rel="stylesheet" href="theme/theme-media.8f098339.css" media="screen and (max-width: 767px)">
    <link rel="stylesheet" type="text/css" href="theme/color141f.css?v1.1">


    <style>
        .current-nav-139 {
            color: #ff8674 !important;
            border-bottom: 2px solid !important;
        }
    </style>
</head>

<body>


    <header id="header" class="header header-sticky" data-toggle="sticky-onscroll">
        <div class="menu-mobile">
            <div class="d-flex justify-content-between">
                <div class="logo-mobile">
                    <a href="./index.html">
                        <img height="34" loading="lazy" id="logo_header" class="tg_logo_header" src="assets/imgs/DERMOCARE_LOGO.png" alt="Dermocare">
                    </a>
                    <span class="alt-logo">Dermocare</span>

                </div>
                <div class="menu-mobile-search">
                    <ul class="nav">
                        <li class="nav-item" onclick="window.location='./panier.html'">
                            <a class="mobile-search header-search-trigger" href="./panier.html">
                                <span class="icon-shop"></span>
                            </a>
                        </li>
                    </ul>
                </div>
                <div class="menu-mobile-toggle">
                    <ul class="nav">
                        <li class="nav-item">
                            <a id="mainMenu_Burger_header" class="tg_mainMenu_Burger_header menu-mobile-toggle-link burger active" href="#">
                                <span id="mainMenu_cta" class="tg_mainMenu_cta navbar-toggler-icon open-icon"></span>
                            </a>
                            <a class="menu-mobile-toggle-link cross" href="#">
                                <span id="mainMenu_header_close_popin" class="navbar-toggler-icon  tg_mainMenu_header_close_popin navbar-toggler-icon close-icon"></span>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="collapse-mobile">
            <div class="collapse-mobile-inner">
                <div class="main-menu">
                    <div class="container">
                        <div class="row">
                            <div class="col-lg-3">
                                <div class="logo">
                                    <a href="./index.html">
                                        <br>
                                        <img height="34" loading="lazy" id="logo_header" class="tg_logo_header" src="assets/imgs/DERMOCARE_LOGO.png" alt="Dermocare">
                                    </a>
                                    <span class="alt-logo">Dermocare</span>

                                </div>
                                <div class="sticky-logo">
                                    <a href="./index.html"><img loading="lazy" src="assets/imgs/DERMOCARE_LOGO.png" alt="Dermocare"></a>
                                </div>
                            </div>
                            <div class="col-lg-8">
                                <div class="categories">
                                    <ul class="nav">



                                        <li class="nav-item category-primary menu-riche menu-riche-type-1">

                                            <a id="mainMenu_header_::Visage" class="tg_mainMenu_header nav-link current-nav-28208" href="#">
                                                PRODUITS        </a>



                                            <div class="menu-riche-container">
                                                <div class="menu-riche-header">
                                                    <div class="menu-riche-header-prev">
                                                        <a id="mainMenu_header_return_popin" class="tg_mainMenu_header_return_popin menu-riche-prev-link" href="#">Retour</a>
                                                    </div>
                                                    <div class="menu-riche-header-close">
                                                        <a id="mainMenu_header_close_popin" class="tg_mainMenu_header_close_popin menu-riche-close-link icon-close" href="#"></a>
                                                    </div>
                                                </div>
                                                <div class="container-full">
                                                    <div class="menu-riche-subs-parent-name mobile-parentName"></div>
                                                    <div class="menu-riche-subs-heading">
                                                        <div class="row">
                                                            <div class="col-lg-3">
                                                                <div class="menu-widget-title">
                                                                    <a data-menu-toggle="menu-803" href="#" id="#header_productMenu_category::Préoccupations" class="tg_header_productMenu_category">GAMME</a>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="menu-riche-subs">
                                                        <div class="row">
                                                            <div id="menu-803" class="col-lg-3">
                                                                <div class="menu-riche-subs-item">
                                                                    <div class="menu-widget">
                                                                        <ul class="list-unstyled">
                                                                            <li>

                                                                                <a href="creme-eclaircissante-visage.html" class="tg_header_productMenu_Sub_category">CREME ÉCLAIRCISSANTE VISAGE</a>



                                                                            </li>
                                                                            <li>

                                                                                <a href="eclaircissant-gel-nettoyant.html" class="tg_header_productMenu_Sub_category">ÉCLAIRCISSANT GEL NETTOYANT</a>



                                                                            </li>


                                                                        </ul>
                                                                    </div>
                                                                </div>

                                                            </div>


                                                        </div>
                                                    </div>

                                                </div>
                                            </div>
                                        </li>



                                    </ul>
                                </div>
                            </div>



                            <div class="col-lg-1 links-nav">
                                <div class="links">
                                    <ul class="nav ">


                                        <li class="nav-item header-search" onclick="window.location='./panier.html'">
                                            <a id="internalSearchGlass_header" href="./panier.html" class="tg_internalSearchGlass_header nav-link header-search-trigger">
                                                <span class="icon-shop"></span>
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </div>


                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <main>
        <br>
        <div class="container-large  page_39493" itemtype="https://schema.org/Product" itemscope>
            <div class="row">
                <div class="col-12">
                    <div class="full-width" style="left: calc(50% + 0px); width: calc(100vw - 0px);">
                        <div class="row no-gutters">
                            <div class="col-12 full      " id="block-383351399">
                                <section class="bloc-contenu-editorial     ">
                                    <div class="container">
                                        <div class="bloc-contenu ">
                                            <h1 style="text-align:center;">
                                                <br>
                                                <span class="richtext-colored-text" id="divPanier">
                                                    PANIER
                                                </span>
                                            </h1>
                                        </div>
                                    </div>
                                </section>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <section class="cart-area ptb-100 ng-scope" id="sectionPanier">
            <br>
            <div class="container">
                <div class="row">
                    <div class="col-lg-12 col-md-12">
                        <div class="application__title">
                            <span class="anm block-name animated animated" id="" style="visibility: visible;">
                                                        Détails de la commande
                                                    </span>
                        </div>
                        <form method="post" class="ng-pristine ng-invalid ng-invalid-required ng-valid-pattern ng-valid-maxlength ng-valid-email">
                            <div class="cart-table table-responsive">
                                <table class="table table-bordered">
                                    <thead>
                                        <tr>
                                            <th scope="col">Supprimer</th>
                                            <th scope="col">Produit</th>
                                            <th scope="col">Designation</th>
                                            <th scope="col">Prix</th>
                                            <th scope="col">Quantité</th>
                                            <th scope="col">Total</th>
                                        </tr>
                                    </thead>
                                    <tbody id="tab">

                                    </tbody>
                                </table>
                            </div>

                            <br>
                            <br>

                            <div class="row">
                                <div class="col-lg-12 col-md-12">
                                    <div class="billing-details">
                                        <div class="application__title">
                                            <span class="anm block-name animated animated" id="" style="visibility: visible;">
                                                        Détails de la livraison
                                                    </span>
                                        </div>
                                        <div class="row">
                                            <div class="col-lg-6 col-md-6">
                                                <div class="form-group ng-binding">
                                                    <label>Nom de famille</span></label>
                                                    <input type="text" class="form-control ng-pristine ng-empty ng-invalid ng-invalid-required ng-touched" name="nom" id="nom" value="">
                                                </div>
                                            </div>
                                            <div class="col-lg-6 col-md-6">
                                                <div class="form-group">
                                                    <label>Prénom</span></label>
                                                    <input type="text" class="form-control ng-pristine ng-empty ng-invalid ng-invalid-required ng-touched" name="prenom" id="prenom" value="">
                                                </div>
                                            </div>
                                            <div class="col-lg-6 col-md-6">
                                                <div class="form-group">
                                                    <label>Adresse</span></label>
                                                    <input type="text" class="form-control ng-pristine ng-empty ng-invalid ng-invalid-required ng-touched" name="adresse" id="adresse" value="">
                                                </div>
                                            </div>
                                            <div class="col-lg-6 col-md-6">
                                                <div class="form-group">
                                                    <label>Ville <span class="required">*</span></label>
                                                    <input type="text" class="form-control ng-pristine ng-empty ng-invalid ng-invalid-required ng-touched" required="" name="ville" id="ville" value="">
                                                </div>
                                            </div>
                                            <div class="col-lg-6 col-md-6">
                                                <div class="form-group">
                                                    <label>Adresse e-mail</label>
                                                    <input type="email" class="form-control ng-pristine ng-empty ng-valid-email ng-invalid ng-invalid-required ng-touched" name="email" id="email" value="">
                                                </div>
                                            </div>
                                            <div class="col-lg-6 col-md-6">
                                                <div class="form-group">
                                                    <label>Téléphone <span class="required">*</span></label>
                                                    <input type="text" class="form-control ng-pristine ng-empty ng-invalid ng-invalid-required ng-valid-pattern ng-valid-maxlength ng-touched" required="" maxlength="10" name="telephone" id="telephone" pattern="[0-9]{10}" value="">
                                                </div>
                                            </div>
                                            <div class="col-lg-12 col-md-12">
                                                <div class="form-group">
                                                    <textarea name="notes" cols="30" rows="5" placeholder="Note ou commentaire" class="form-control ng-pristine ng-valid ng-empty ng-touched" id="commentaire" name="commentaire"></textarea>
                                                </div>
                                            </div>

                                            <div class="col-lg-12 col-md-12">
                                                <div class="p-info__actions">
                                                    <button id="submit" class="btn btn-primary tg_buy_online_button cc-fi-button" type="submit">Valider la commande</button>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </section>

    </main>


    <script src="theme/theme-default-js.3bf5261b.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>

    <script>
        $(document).ready(function() {
            updateSizePanier();
        });

        jQuery($ => {
            var proxy = 'https://cors-anywhere.herokuapp.com/';
            var gUrl = 'https://docs.google.com/forms/d/e/1FAIpQLSc0uBGpsdzQHYh598o8_myvx7nbTEJQ9KgzIWQ15R3tmeFrVQ/formResponse';
            var gel = $.cookie("#eclaircissant-gel-nettoyant") == undefined ? {
                size: 0,
                prix: 185
            } : {
                size: JSON.parse($.cookie("#eclaircissant-gel-nettoyant")).size,
                prix: 185
            };
            var creme = $.cookie("#creme-eclaircissante-visage") == undefined ? {
                size: 0,
                prix: 230
            } : {
                size: JSON.parse($.cookie("#creme-eclaircissante-visage")).size,
                prix: 230
            };

            $('form').on('submit', e => {
                $('#submit').prop('disabled', true);
                e.preventDefault();
                $.ajax({
                    type: "POST",
                    crossDomain: true,
                    url: gUrl,
                    data: jQuery.param({
                        'entry.337518684': "65f18f7eaefe9" + '',
                        'entry.571291161': $("#nom").val() + '',
                        'entry.645230804': $("#prenom").val() + '',
                        'entry.724865637': $("#adresse").val() + '',
                        'entry.2084492361': $("#ville").val() + '',
                        'entry.2028001841': $("#email").val() + '',
                        'entry.571737060': $("#telephone").val() + '',
                        'entry.836814742': $("#commentaire").val() + '',
                        'entry.1595591017': gel.prix + '',
                        'entry.671366247': gel.size + '',
                        'entry.1847517272': creme.prix + '',
                        'entry.747527549': creme.size + '',
                        'entry.379604016': "0",
                        'entry.162721717': (gel.prix * gel.size + creme.prix * creme.size) + '',
                        'entry.1360432611': 'Nouvelle commande'
                    }),
                    // contentType: 'application/x-www-form-urlencoded; charset=UTF-8',
                    success: function(response) {

                        deleteAllProduits();
                        $('#submit').prop('disabled', false);

                        Swal.fire({
                            icon: 'success',
                            //html: 'Votre commande a bien été prise en compte. <br>Veuillez vérifier votre adresse mail pour le détail de la commande. <br>Pensez à regarder dans votre dossier Spam si vous ne la voyez pas arriver.',
                            html: 'Votre commande a bien été prise en compte.',
                            showConfirmButton: false,
                            iconColor: '#98cb75',
                            timer: 3000
                        }).then(function(data) {
                            window.location = "/";
                            //console.log(data);
                        });
                    },
                    error: function(request, status, error) {
                        /*Swal.fire({
                            icon: 'error',
                            html: 'Erreur lors de l\'enregistrement de la commande : (' + err  + ')',
                            showConfirmButton: false,
                            timer: 3000
                        });
                        $('#submit').prop('disabled', false);*/
                        deleteAllProduits();
                        $('#submit').prop('disabled', false);

                        Swal.fire({
                            icon: 'success',
                            //html: 'Votre commande a bien été prise en compte. <br>Veuillez vérifier votre adresse mail pour le détail de la commande. <br>Pensez à regarder dans votre dossier Spam si vous ne la voyez pas arriver.',
                            html: 'Votre commande a bien été prise en compte.',
                            showConfirmButton: false,
                            iconColor: '#98cb75',
                            timer: 3000
                        }).then(function(data) {
                            window.location = "/";
                            //console.log(data);
                        });
                    }
                });
            });
        });

        function deleteAllProduits() {
            $.removeCookie("#creme-eclaircissante-visage");
            $.removeCookie("#eclaircissant-gel-nettoyant");
            updateSizePanier();
            updateTable();
            $("#nom").val("");
            $("#prenom").val("");
            $("#adresse").val("");
            $("#ville").val("");
            $("#email").val("");
            $("#telephone").val("");
            $("#commentaire").text("");
            $("#commentaire").val("");
        }

        function deleteProduit(id) {
            $.removeCookie(id);
            updateSizePanier();
            updateTable();
        }

        function updateProduitPanier(id, currentObj) {
            if (currentObj.value == "") {
                currentObj.value = 1;
            }

            $.cookie(id, JSON.stringify({
                size: currentObj.value,
                produit: JSON.parse($.cookie(id)).produit
            }));
            updateSizePanier();
            updateTable();
        }

        function updateTable() {
            var content = "";
            var size = 0;
            var total = 0;


            var elements = ['#eclaircissant-gel-nettoyant', '#creme-eclaircissante-visage', ''];

            var hasElement = false;
            elements.forEach(function(item, index) {
                $.each($.cookie(), function(key, value) {
                    //if (key.startsWith("#")) {
                    if (key == item) {
                        hasElement = true;
                        const p = JSON.parse(value);
                        // parseInt(value)
                        //content += "<tr><td colspan='3'></td><td><h3>Total</h3></td><td>78 €</td></tr>";
                        content += "        <tr>";




                        content += "                            <td>";
                        content += "                                    <img style='cursor: pointer' src='assets/imgs/trash.png' width='20' height='20' onclick='deleteProduit(\"" + p.produit.id + "\")'>";
                        content += "                           </td>";


                        content += "                            <td>";
                        content += "                                <a href='" + p.produit.href + "'>";
                        content += "                                    <img alt='item' src='" + p.produit.photo + "' width='50' height='70'>";
                        content += "                                </a>";
                        content += "                           </td>";
                        content += "                            <td>";
                        content += "                                <a href='" + p.produit.href + "'>";
                        content += "                                    " + p.produit.description;
                        content += "                                </a>";
                        content += "                            </td>";
                        content += "                            <td>";
                        content += "                                <span>" + p.produit.prixStr + "</span>";
                        content += "                            </td>";
                        content += "                            <td>";
                        content += "                                <div class='input-counter'>";
                        content += "                                    <input type='number' value='" + p.size + "' min='1' max='10' onchange='updateProduitPanier(\"" + p.produit.id + "\", this)'>";
                        content += "                                </div>";
                        content += "                            </td>";
                        content += "                            <td>";
                        content += "                                <span>" + p.produit.prix * p.size + " DH</span>";
                        content += "                            </td>";
                        content += "                        </tr>";

                        size += p.size;
                        total += p.produit.prix * p.size;
                    }
                });
            });

            if (size > 1) {
                content += "                        <tr><td></td><td colspan='4'><img src='assets/imgs/livraison.png' width='40' height='40'></td><td>0 DH</td></tr>";
            } else {
                total += 0;
                content += "                        <tr><td></td><td colspan='4'><img src='assets/imgs/livraison.png' width='40' height='40'></td><td>0 DH</td></tr>";
            }

            content += "                        <tr><td colspan='4'></td><td><h3>Total</h3></td><td><b>" + total + " DH</b></td></tr>";

            $('#tab').html(content);

            // test hasElement;
            if (hasElement) {
                $("#divPanier").html("PANIER");
                $("#sectionPanier").show();
            } else {
                $("#divPanier").html("PANIER VIDE");
                $("#sectionPanier").hide();
            }

        }

        function updateSizePanier() {
            let size = 0;
            $.each($.cookie(), function(key, value) {
                if (key.startsWith("#")) {
                    size += parseInt(JSON.parse($.cookie(key)).size);
                }
            });
            $("#panier").text(size);
        }

        function addProduit(id, href, photo, prix, prixStr, description) {
            let produit = {
                id: id,
                href: href,
                photo: photo,
                prix: prix,
                prixStr: prixStr,
                description: description
            };
            if ($.cookie(id) == undefined) {
                $.cookie(id, JSON.stringify({
                    size: 0,
                    produit: produit
                }));
            }


            $.cookie(id, JSON.stringify({
                size: parseInt(JSON.parse($.cookie(id)).size) + 1,
                produit: produit
            }));
            updateSizePanier();

            const Toast = Swal.mixin({
                toast: true,
                position: 'top-end',
                showConfirmButton: false,
                timer: 1000,
                timerProgressBar: true,
            })

            Toast.fire({
                icon: 'success',
                iconColor: '#98cb75',
                title: 'Ajout bien effectué'
            })
        }

        function removeProduit(id, href, photo, prix, prixStr, description) {
            let produit = {
                id: id,
                href: href,
                photo: photo,
                prix: prix,
                prixStr: prixStr,
                description: description
            };
            if ($.cookie(id) != undefined) {
                $.cookie(id, JSON.stringify({
                    size: parseInt(JSON.parse($.cookie(id)).size) - 1,
                    produit: produit
                }));
                updateSizePanier();

                const Toast = Swal.mixin({
                    toast: true,
                    position: 'top-end',
                    showConfirmButton: false,
                    timer: 1000,
                    timerProgressBar: true,
                })

                Toast.fire({
                    icon: 'success',
                    iconColor: '#ff8674',
                    title: 'Suppression bien effectuée'
                })
            }
        }
    </script>


</body>

<script>
    $(document).ready(function() {
        updateTable();
    });
</script>


</html>